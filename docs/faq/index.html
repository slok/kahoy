<!doctype html><html lang=en><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="F.A.Q"><title>F.A.Q | Kahoy documentation</title><link rel=icon href=/favicon/favicon-32x32.png type=image/x-icon><link rel=stylesheet href=/main.min.css media=screen><link rel=stylesheet href=/custom.css media=screen><link rel=alternate type=application/rss+xml href=https://docs.kahoy.dev/faq/index.xml title="Kahoy documentation"></head><body><svg style="position:absolute;width:0;height:0;overflow:hidden" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><symbol viewBox="0 0 24 24" id="arrow_back" xmlns="http://www.w3.org/2000/svg"><path d="M20.016 11.016v1.969H7.828l5.578 5.625L12 20.016 3.984 12 12 3.984l1.406 1.406-5.578 5.625h12.188z"/></symbol><symbol viewBox="0 0 24 24" id="arrow_left_alt" xmlns="http://www.w3.org/2000/svg"><path d="M7.969 11.016v-3L3.985 12l3.984 3.984v-3h12.047v-1.969H7.969z"/></symbol><symbol viewBox="0 0 24 24" id="arrow_right_alt" xmlns="http://www.w3.org/2000/svg"><path d="M16.031 11.016v-3L20.015 12l-3.984 3.984v-3H3.984v-1.969h12.047z"/></symbol><symbol viewBox="0 0 24 24" id="bookmark" xmlns="http://www.w3.org/2000/svg"><path d="M15 5.016q.797.0 1.406.586t.609 1.383v16.031l-7.031-3-6.984 3V6.985q0-.797.609-1.383t1.406-.586h9.984zM18.984 18V5.016q0-.797-.586-1.406t-1.383-.609H6.984q0-.797.609-1.406T8.999.986h9.984q.797.0 1.406.609t.609 1.406v15.984z"/></symbol><symbol viewBox="0 0 16 28" id="code" xmlns="http://www.w3.org/2000/svg"><path d="M4.5 23a1.5 1.5.0 10-3.001.001A1.5 1.5.0 004.5 23zm0-18a1.5 1.5.0 10-3.001.001A1.5 1.5.0 004.5 5zm10 2a1.5 1.5.0 10-3.001.001A1.5 1.5.0 0014.5 7zM16 7a3.002 3.002.0 01-1.5 2.594c-.047 5.641-4.047 6.891-6.703 7.734C5.313 18.109 4.5 18.484 4.5 20v.406A3 3 0 016 23a3.001 3.001.0 01-6 0c0-1.109.609-2.078 1.5-2.594V7.594A3 3 0 010 5a3.001 3.001.0 016 0A3.002 3.002.0 014.5 7.594v7.766c.797-.391 1.641-.656 2.406-.891 2.906-.922 4.562-1.609 4.594-4.875A3 3 0 0110 7a3.001 3.001.0 016 0z"/></symbol><symbol viewBox="0 0 24 24" id="date" xmlns="http://www.w3.org/2000/svg"><path d="M18.984 20.016V9H5.015v11.016h13.969zm0-16.032q.797.0 1.406.609t.609 1.406v14.016q0 .797-.609 1.383t-1.406.586H5.015q-.844.0-1.43-.563t-.586-1.406V5.999q0-.797.586-1.406t1.43-.609h.984V2.015h2.016v1.969h7.969V2.015H18v1.969h.984zm-1.968 7.032v1.969H15v-1.969h2.016zm-4.032.0v1.969h-1.969v-1.969h1.969zm-3.984.0v1.969H6.984v-1.969H9z"/></symbol><symbol viewBox="0 0 24 24" id="download" xmlns="http://www.w3.org/2000/svg"><path d="M5.016 18h13.969v2.016H5.016V18zm13.968-9L12 15.984 5.016 9H9V3h6v6h3.984z"/></symbol><symbol viewBox="0 0 24 24" id="email" xmlns="http://www.w3.org/2000/svg"><path d="M20.016 8.016V6L12 11.016 3.984 6v2.016L12 12.985zm0-4.032q.797.0 1.383.609t.586 1.406v12q0 .797-.586 1.406t-1.383.609H3.985q-.797.0-1.383-.609t-.586-1.406v-12q0-.797.586-1.406t1.383-.609h16.031z"/></symbol><symbol viewBox="0 0 24 28" id="github" xmlns="http://www.w3.org/2000/svg"><path d="M12 2c6.625.0 12 5.375 12 12 0 5.297-3.437 9.797-8.203 11.391-.609.109-.828-.266-.828-.578.0-.391.016-1.687.016-3.297.0-1.125-.375-1.844-.812-2.219 2.672-.297 5.484-1.313 5.484-5.922.0-1.313-.469-2.375-1.234-3.219.125-.313.531-1.531-.125-3.187-1-.313-3.297 1.234-3.297 1.234a11.28 11.28.0 00-6 0S6.704 6.656 5.704 6.969c-.656 1.656-.25 2.875-.125 3.187-.766.844-1.234 1.906-1.234 3.219.0 4.594 2.797 5.625 5.469 5.922-.344.313-.656.844-.766 1.609-.688.313-2.438.844-3.484-1-.656-1.141-1.844-1.234-1.844-1.234-1.172-.016-.078.734-.078.734.781.359 1.328 1.75 1.328 1.75.703 2.141 4.047 1.422 4.047 1.422.0 1 .016 1.937.016 2.234.0.313-.219.688-.828.578C3.439 23.796.002 19.296.002 13.999c0-6.625 5.375-12 12-12zM4.547 19.234c.031-.063-.016-.141-.109-.187-.094-.031-.172-.016-.203.031-.031.063.016.141.109.187.078.047.172.031.203-.031zm.484.532c.063-.047.047-.156-.031-.25-.078-.078-.187-.109-.25-.047-.063.047-.047.156.031.25.078.078.187.109.25.047zm.469.703c.078-.063.078-.187.0-.297-.063-.109-.187-.156-.266-.094-.078.047-.078.172.0.281s.203.156.266.109zm.656.656c.063-.063.031-.203-.063-.297-.109-.109-.25-.125-.313-.047-.078.063-.047.203.063.297.109.109.25.125.313.047zm.891.391c.031-.094-.063-.203-.203-.25-.125-.031-.266.016-.297.109s.063.203.203.234c.125.047.266.0.297-.094zm.984.078c0-.109-.125-.187-.266-.172-.141.0-.25.078-.25.172.0.109.109.187.266.172.141.0.25-.078.25-.172zm.906-.156c-.016-.094-.141-.156-.281-.141-.141.031-.234.125-.219.234.016.094.141.156.281.125s.234-.125.219-.219z"/></symbol><symbol viewBox="0 0 28 28" id="heart" xmlns="http://www.w3.org/2000/svg"><path d="M14 26c-.25.0-.5-.094-.688-.281l-9.75-9.406c-.125-.109-3.563-3.25-3.563-7C-.001 4.735 2.796 2 7.468 2c2.734.0 5.297 2.156 6.531 3.375C15.233 4.156 17.796 2 20.53 2c4.672.0 7.469 2.734 7.469 7.313.0 3.75-3.437 6.891-3.578 7.031l-9.734 9.375a.972.972.0 01-.688.281z"/></symbol><symbol viewBox="0 0 24 24" id="link" xmlns="http://www.w3.org/2000/svg"><path d="M17.016 6.984q2.063.0 3.516 1.477T21.985 12t-1.453 3.539-3.516 1.477h-4.031v-1.922h4.031q1.266.0 2.18-.914T20.11 12t-.914-2.18-2.18-.914h-4.031V6.984h4.031zm-9 6v-1.969h7.969v1.969H8.016zM3.891 12q0 1.266.914 2.18t2.18.914h4.031v1.922H6.985q-2.063.0-3.516-1.477T2.016 12t1.453-3.539 3.516-1.477h4.031v1.922H6.985q-1.266.0-2.18.914T3.891 12z"/></symbol><symbol viewBox="0 0 24 24" id="menu" xmlns="http://www.w3.org/2000/svg"><path d="M3 6h18v2.016H3V6zm0 6.984v-1.969h18v1.969H3zM3 18v-2.016h18V18H3z"/></symbol><symbol viewBox="0 0 24 24" id="notification" xmlns="http://www.w3.org/2000/svg"><path d="M18 15.984 20.016 18v.984H3.985V18l2.016-2.016v-4.969q0-2.344 1.195-4.078t3.305-2.25v-.703q0-.609.422-1.055t1.078-.445 1.078.445.422 1.055v.703q2.109.516 3.305 2.25t1.195 4.078v4.969zm-6 6q-.844.0-1.43-.563t-.586-1.406h4.031q0 .797-.609 1.383T12 21.984z"/></symbol><symbol viewBox="0 0 24 24" id="path" xmlns="http://www.w3.org/2000/svg"><path d="M21.984 11.016H15v-3h-2.016v7.969H15v-3h6.984v8.016H15v-3h-3.984V8.017H9v3H2.016V3.001H9v3h6v-3h6.984v8.016z"/></symbol><symbol viewBox="0 0 24 24" id="person" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.016q2.531.0 5.273 1.102t2.742 2.883v2.016H3.984v-2.016q0-1.781 2.742-2.883t5.273-1.102zM12 12q-1.641.0-2.813-1.172T8.015 8.015t1.172-2.836T12 3.984t2.813 1.195 1.172 2.836-1.172 2.813T12 12z"/></symbol><symbol viewBox="0 0 24 24" id="search" xmlns="http://www.w3.org/2000/svg"><path d="M9.516 14.016q1.875.0 3.188-1.313t1.313-3.188-1.313-3.188-3.188-1.313-3.188 1.313-1.313 3.188 1.313 3.188 3.188 1.313zm6 0 4.969 4.969-1.5 1.5-4.969-4.969v-.797l-.281-.281q-1.781 1.547-4.219 1.547-2.719.0-4.617-1.875T3.001 9.516t1.898-4.617 4.617-1.898 4.594 1.898 1.875 4.617q0 .984-.469 2.227t-1.078 1.992l.281.281h.797z"/></symbol><symbol viewBox="0 0 20 28" id="shield" xmlns="http://www.w3.org/2000/svg"><path d="M17 15V5h-7v17.766c.797-.422 2.078-1.156 3.328-2.141C15 19.312 17 17.266 17 15zm3-12v12c0 6.578-9.203 10.734-9.594 10.906-.125.063-.266.094-.406.094s-.281-.031-.406-.094C9.203 25.734.0 21.578.0 15V3c0-.547.453-1 1-1h18c.547.0 1 .453 1 1z"/></symbol><symbol viewBox="0 0 32 32" id="tags" xmlns="http://www.w3.org/2000/svg"><path d="M5 5c-1.104.0-2 .887-2 2v8l13.381 13.381c.716.716 1.838.78 2.62.191L5 14.5V5.007 5zm11-1 13.381 13.381c.783.783.787 2.051.008 2.831l-7.177 7.177a2.003 2.003.0 01-2.831-.008L6 14V6c0-1.112.895-2 2-2h8zm-4.5 7a1.5 1.5.0 10-.001-3.001A1.5 1.5.0 0011.5 11z"/></symbol><symbol viewBox="0 0 35 32" id="telescope" xmlns="http://www.w3.org/2000/svg"><path d="M27.464 2.314a.501.501.0 00-.698-.257L14.86 8.339a.499.499.0 00-.233.621l.245.641-6.873 3.769a.5.5.0 00-.222.63l.228.549-7.299 3.488a.5.5.0 00-.246.643l1.498 3.61a.5.5.0 00.629.28l7.625-2.701.228.549a.5.5.0 00.601.289l7.276-2.097.218.569a.497.497.0 00.612.299l13-4a.498.498.0 00.317-.663l-5-12.501zM2.7 21.469l-1.134-2.734 6.823-3.261 1.439 3.47L2.7 21.469zm8.491-1.846-.238-.574-1.843-4.445-.238-.573 6.336-3.475 2.374 6.134.375.981-6.766 1.952zm8.109-1.238-.203-.531c-.003-.011-.001-.024-.006-.035l-.618-1.597-2.754-7.206 11.023-5.815 4.592 11.48L19.3 18.385zM28.964.314a.5.5.0 00-.929.371l6 15a.502.502.0 00.651.279.501.501.0 00.279-.65l-6.001-15zM18 21h-3c-1.14.0-2 .86-2 2v1.315l-5.879 6.859a.5.5.0 10.758.651L13.73 25H16v6.5a.5.5.0 001 0V25h2.27l5.85 6.825a.497.497.0 00.705.054.5.5.0 00.054-.705L20 24.315v-1.24C20 21.912 19.122 21 18 21zm1 3h-5v-1c0-.589.411-1 1-1h3c.57.0 1 .462 1 1.075V24z"/></symbol></svg><div class=wrapper><input type=checkbox class=hidden id=menu-control><header class=gdoc-header><div class="container flex align-center justify-between"><label for=menu-control class=gdoc-nav__control><svg class="icon menu"><use xlink:href="#menu"/></svg><svg class="icon arrow-back"><use xlink:href="#arrow_back"/></svg></label><a class=gdoc-header__link href=https://docs.kahoy.dev/><span class="gdoc-brand flex align-center"><img class=gdoc-brand__img src=/img/logo.png alt="Kahoy documentation"width=38 height=38>
Kahoy documentation</span></a></div></header><main class="container flex flex-even"><aside class=gdoc-nav><nav><div class=gdoc-search><svg class="icon search"><use xlink:href="#search"/></svg><input type=text id=gdoc-search-input class=gdoc-search__input placeholder=Search... aria-label=Search maxlength=64><div class="gdoc-search__spinner spinner hidden"></div><ul id=gdoc-search-results class=gdoc-search__list></ul></div><section class=gdoc-nav--main><h2>Navigation</h2><ul class=gdoc-nav__list><li><span class=flex><a href=/introduction/ class=gdoc-nav__entry>Introduction</a></span><ul class=gdoc-nav__list><li><span class=flex><a href=/introduction/getting-started/ class=gdoc-nav__entry>Getting started</a></span></li><li><span class=flex><a href=/introduction/alternatives-and-scope/ class=gdoc-nav__entry>Alternatives and scope</a></span></li><li><span class=flex><a href=/introduction/features/ class=gdoc-nav__entry>Features</a></span></li><li><span class=flex><a href=/introduction/install/ class=gdoc-nav__entry>Installing Kahoy</a></span></li></ul></li><li><span class=flex>Topics</span><ul class=gdoc-nav__list><li><span class=flex><a href=/topics/cocepts/ class=gdoc-nav__entry>Concepts</a></span></li><li><span class=flex><a href=/topics/how-does-it-work/ class=gdoc-nav__entry>How does it work</a></span></li><li><span class=flex><a href=/topics/modes/ class=gdoc-nav__entry>Execution modes</a></span></li><li><span class=flex><a href=/topics/provider/ class=gdoc-nav__entry>Provider</a></span><ul class=gdoc-nav__list><li><span class=flex><a href=/topics/provider/kubernetes/ class=gdoc-nav__entry>Kubernetes provider</a></span></li><li><span class=flex><a href=/topics/provider/git/ class=gdoc-nav__entry>Git provider</a></span></li><li><span class=flex><a href=/topics/provider/paths/ class=gdoc-nav__entry>Paths provider</a></span></li></ul></li><li><span class=flex><a href=/topics/sync-types/ class=gdoc-nav__entry>Sync types</a></span></li><li><span class=flex><a href=/topics/batch-priorities/ class=gdoc-nav__entry>Batch and priorities</a></span></li><li><span class=flex><a href=/topics/filtering/ class=gdoc-nav__entry>Filtering resources</a></span></li><li><span class=flex><a href=/topics/report/ class=gdoc-nav__entry>Report</a></span></li><li><span class=flex><a href=/topics/garbage-collection/ class=gdoc-nav__entry>Garbage collection</a></span></li><li><span class=flex><a href=/topics/configuration-file/ class=gdoc-nav__entry>Configuration file</a></span></li><li><span class=flex><a href=/topics/create-namespace/ class=gdoc-nav__entry>Create namespace</a></span></li></ul></li><li><span class=flex><a href=/use-cases/ class=gdoc-nav__entry>Use cases</a></span></li><li><span class=flex><a href=/tutorials/ class=gdoc-nav__entry>Tutorials</a></span><ul class=gdoc-nav__list><li><span class=flex><a href=/tutorials/generic-apps-deployments/ class=gdoc-nav__entry>Generic app based deployments</a></span></li><li><span class=flex><a href=/tutorials/gitops-production-ready-flow/ class=gdoc-nav__entry>Gitops production ready flow</a></span></li><li><span class=flex><a href=/tutorials/multicluster-deployments/ class=gdoc-nav__entry>Multiple env deployments</a></span></li><li><span class=flex><a href=/tutorials/scaling-20k-apps/ class=gdoc-nav__entry>Scaling Kahoy to 20k apps</a></span></li><li><span class=flex><a href=/tutorials/using-git-provider/ class=gdoc-nav__entry>Using Git provider</a></span></li><li><span class=flex><a href=/tutorials/waiting-deployments-finish/ class=gdoc-nav__entry>Waiting deployment to be ready</a></span></li></ul></li><li><span class=flex><a href=/community/ class=gdoc-nav__entry>Community</a></span><ul class=gdoc-nav__list><li><span class=flex><a href=/community/contributing/ class=gdoc-nav__entry>Contributing</a></span></li><li><span class=flex><a href=/community/history/ class=gdoc-nav__entry>History of the project</a></span></li></ul></li><li><span class=flex><a href=/faq/ class="gdoc-nav__entry is-active">F.A.Q</a></span></li><li><span class=flex><a href=/glossary/ class=gdoc-nav__entry>Glossary</a></span></li></ul></section><section class=gdoc-nav--more><h2>More</h2><ul class=gdoc-nav__list><li><span class=flex><svg class="icon download"><use xlink:href="#download"/></svg><a href=https://github.com/slok/kahoy/releases class=gdoc-nav__entry>Releases</a></span></li><li><span class=flex><svg class="icon github"><use xlink:href="#github"/></svg><a href=https://github.com/slok/kahoy class=gdoc-nav__entry>Github</a></span></li></ul></section></nav></aside><div class=gdoc-page><div class="gdoc-page__header flex flex-wrap justify-between hidden-mobile"itemscope itemtype=http://data-vocabulary.org/Breadcrumb><span><span class=breadcrumb><svg class="icon path"><use xlink:href="#path"/></svg><a href=/>Kahoy documentation</a> / F.A.Q</span></span>
<span></span></div><article class=gdoc-markdown><h1>F.A.Q</h1><div class="gdoc-toc gdoc-toc__level--6"><nav id=TableOfContents><ul><li><a href=#can-i-deploy-anything>Can I deploy anything?</a></li><li><a href=#what-does-focused-on-resource-level-mean>What does focused on resource level mean?</a></li><li><a href=#what-about-crds>What about CRDs?</a></li><li><a href=#why-old-and-new-states>Why old and new states?</a></li><li><a href=#why-file-changes-dont-affect-resources>Why file changes don&rsquo;t affect resources?</a></li><li><a href=#can-i-have-multiple-manifests-envs-on-the-same-repository>Can I have multiple manifests envs on the same repository?</a></li><li><a href=#partial-and-full-syncs>Partial and full syncs?</a></li><li><a href=#how-is-garbage-collection-handled>How is Garbage collection handled?</a></li><li><a href=#why-git>Why git?</a></li><li><a href=#when-to-use-paths-provider>When to use paths provider?</a></li><li><a href=#when-to-use-kubernetes-provider>When to use Kubernetes provider?</a></li><li><a href=#env-vars-as-options>Env vars as options</a></li><li><a href=#kustomize-or-helm-manifests>Kustomize or helm manifests</a></li><li><a href=#encrypted-secrets>Encrypted secrets?</a></li><li><a href=#non-resource-yamls>Non resource YAMLs</a></li><li><a href=#ignore-a-resource>Ignore a resource</a></li><li><a href=#why-so-many-filtering-options>Why so many filtering options?</a></li><li><a href=#i-have-namespace-not-found-error-on-regular-apply-or-diff>I have namespace not found error on regular apply or diff</a></li><li><a href=#why-dont-use-kubectl-prune-to-delete-resources>Why don&rsquo;t use kubectl <code>prune</code> to delete resources?</a></li><li><a href=#github-actions-integration>Github actions integration</a></li><li><a href=#configuration-file>Configuration file</a></li><li><a href=#report>Report</a></li></ul></nav><hr></div><div class=gdoc-page__anchorwrap><h2 id=can-i-deploy-anything>Can I deploy anything?<a data-clipboard-text=https://docs.kahoy.dev/faq/#can-i-deploy-anything class="gdoc-page__anchor gdoc-page__anchor--right clip"aria-label="Anchor Can I deploy anything?"href=#can-i-deploy-anything><svg class="icon link"><use xlink:href="#link"/></svg></a></h2></div><p>Yes, Kahoy is focused on resource level, you will not need any app scope, labels to group them, or anything similar. You can deploy from 500 apps to 1 namespace.</p><div class=gdoc-page__anchorwrap><h2 id=what-does-focused-on-resource-level-mean>What does focused on resource level mean?<a data-clipboard-text=https://docs.kahoy.dev/faq/#what-does-focused-on-resource-level-mean class="gdoc-page__anchor gdoc-page__anchor--right clip"aria-label="Anchor What does focused on resource level mean?"href=#what-does-focused-on-resource-level-mean><svg class="icon link"><use xlink:href="#link"/></svg></a></h2></div><p>When we talk about resource level, it means that Kahoy identifies what to deploy/delete based on the Kubernetes resource ID (type + ns + name).</p><p>Other solutions add concepts like release (<a href=https://helm.sh/>Helm</a>) or app (<a href=https://github.com/k14s/kapp>Kapp</a>), these use/add special fields like labels to identify them.</p><p>Not depending on these fields gives Kahoy, flexibility to deploy anything, and not depending on anything external to what the user defines in its manifests.</p><p>However, if you want to group them by app/release, you can always generate these manifests using helm or kustomize templating and let them add those grouping labels, Kahoy will handle correctly the manifests/resources as they are.</p><div class=gdoc-page__anchorwrap><h2 id=what-about-crds>What about CRDs?<a data-clipboard-text=https://docs.kahoy.dev/faq/#what-about-crds class="gdoc-page__anchor gdoc-page__anchor--right clip"aria-label="Anchor What about CRDs?"href=#what-about-crds><svg class="icon link"><use xlink:href="#link"/></svg></a></h2></div><p>CRDs are also Kubernetes resources, Kahoy knows how to handle them.</p><div class=gdoc-page__anchorwrap><h2 id=why-old-and-new-states>Why old and new states?<a data-clipboard-text=https://docs.kahoy.dev/faq/#why-old-and-new-states class="gdoc-page__anchor gdoc-page__anchor--right clip"aria-label="Anchor Why old and new states?"href=#why-old-and-new-states><svg class="icon link"><use xlink:href="#link"/></svg></a></h2></div><p>In order to be able to track resource changes (e.g track deletion of resource). We need a way to detect what resources have been created/changed/gone.</p><p>As we explained in another question, Kahoy doesn&rsquo;t depend on special concepts like release/app/special labels&mldr; so to be able to track this we need to use something else, we use a previous (<code>old</code>) state and a current (<code>new</code>) state of the manifests, we compare them and then we can track what has changed.</p><p>Normally the manifests are already in Git, Git has history, so getting this information from git is enough and integrates perfectly with code review flows and Kahoy.</p><div class=gdoc-page__anchorwrap><h2 id=why-file-changes-dont-affect-resources>Why file changes don&rsquo;t affect resources?<a data-clipboard-text=https://docs.kahoy.dev/faq/#why-file-changes-dont-affect-resources class="gdoc-page__anchor gdoc-page__anchor--right clip"aria-label="Anchor Why file changes don&rsquo;t affect resources?"href=#why-file-changes-dont-affect-resources><svg class="icon link"><use xlink:href="#link"/></svg></a></h2></div><p>Because Kahoy loads resources and then plans what has changed, e.g:</p><p>You have a file called <code>app.yaml</code> and has these resources with the IDs:</p><ul><li>A service called <code>app1</code> on the ns <code>apps</code>: <code>v1/Service/apps/app1</code></li><li>A Deployment called <code>app1</code> on the ns <code>apps</code>: <code>apps/v1/Deployment/apps/app1</code></li><li>An ingress called <code>app1</code> on the ns <code>apps</code>: <code>networking.k8s.io/v1beta1/Ingress/apps/app1</code></li></ul><p>Now you split the file in</p><ul><li><code>deployment.yaml</code>: <code>apps/v1/Deployment/apps/app1</code></li><li><code>svc.yaml</code>: <code>v1/Service/apps/app1</code></li><li><code>ingress.yaml</code>: <code>networking.k8s.io/v1beta1/Ingress/apps/app1</code></li></ul><p>For Kahoy internally, are the same.</p><div class=gdoc-page__anchorwrap><h2 id=can-i-have-multiple-manifests-envs-on-the-same-repository>Can I have multiple manifests envs on the same repository?<a data-clipboard-text=https://docs.kahoy.dev/faq/#can-i-have-multiple-manifests-envs-on-the-same-repository class="gdoc-page__anchor gdoc-page__anchor--right clip"aria-label="Anchor Can I have multiple manifests envs on the same repository?"href=#can-i-have-multiple-manifests-envs-on-the-same-repository><svg class="icon link"><use xlink:href="#link"/></svg></a></h2></div><p>Yes, Kahoy takes a root manifest-path, as long as that root is the one for the environment, it should be ok.</p><p>You can invoke Kahoy <code>N</code> times, one per environment.</p><div class=gdoc-page__anchorwrap><h2 id=partial-and-full-syncs>Partial and full syncs?<a data-clipboard-text=https://docs.kahoy.dev/faq/#partial-and-full-syncs class="gdoc-page__anchor gdoc-page__anchor--right clip"aria-label="Anchor Partial and full syncs?"href=#partial-and-full-syncs><svg class="icon link"><use xlink:href="#link"/></svg></a></h2></div><p>Partial syncs filter the resources that will apply based on the changes from one state to another (checks diffs between kubernetes resources in both states). Use <code>--include-changes</code> for partial syncs.</p><p>Full syncs apply all the resources.</p><p>Check this <a href=https://github.com/slok/kahoy-github-actions-example>Github actions example</a> for more info.</p><div class=gdoc-page__anchorwrap><h2 id=how-is-garbage-collection-handled>How is Garbage collection handled?<a data-clipboard-text=https://docs.kahoy.dev/faq/#how-is-garbage-collection-handled class="gdoc-page__anchor gdoc-page__anchor--right clip"aria-label="Anchor How is Garbage collection handled?"href=#how-is-garbage-collection-handled><svg class="icon link"><use xlink:href="#link"/></svg></a></h2></div><p>Kahoy takes manifests in 2 states, an <code>old</code> state, and a <code>new</code> state. It compares both and checks what&rsquo;s missing in the <code>new</code> one comparing the <code>old</code> one. Those are the resources that will be deleted (garbage collected).</p><p>The deletion is made in a resource manner using <code>Kubectl delete</code>, this is safe because Kahoy selects what wants to delete so, it already knows what is going to be delete on the server.</p><p>Other methods like <code>prune</code> are not safe, and that&rsquo;s why Kahoy doesn&rsquo;t use them.</p><div class=gdoc-page__anchorwrap><h2 id=why-git>Why git?<a data-clipboard-text=https://docs.kahoy.dev/faq/#why-git class="gdoc-page__anchor gdoc-page__anchor--right clip"aria-label="Anchor Why git?"href=#why-git><svg class="icon link"><use xlink:href="#link"/></svg></a></h2></div><p>Git maintains history of the manifests, it tracks the changes, can be reverted, is known by almost everyone&mldr; this makes the manifests lifecycle to be reliable.</p><p>This gives us the opportunity to track changes on our resources, applying a reliable flow based on code reviews (Pull requests).</p><p>That&rsquo;s why Kahoy understands git, knows how to get two revisions, and compares the manifests that changed in those revisions, plan them and apply.</p><div class=gdoc-page__anchorwrap><h2 id=when-to-use-paths-provider>When to use paths provider?<a data-clipboard-text=https://docs.kahoy.dev/faq/#when-to-use-paths-provider class="gdoc-page__anchor gdoc-page__anchor--right clip"aria-label="Anchor When to use paths provider?"href=#when-to-use-paths-provider><svg class="icon link"><use xlink:href="#link"/></svg></a></h2></div><p>Kahoy understands git and most of the time you will not need it if you are using a repository. However, if you want to make everything yourself, using <code>paths</code> provider gives you full control. e.g:</p><ul><li>Prepare two manifest paths.<ul><li><code>new</code> manifests is the main repository</li><li><code>old</code> manifests is a copy of <code>new</code> (<code>cp -r</code>) and checkout to a previous revision.</li></ul></li><li>Use <code>--provider=paths</code> to pass those manifest paths (<code>--fs-old-manifests-path</code>, <code>--fs-new-manifests-path</code>) to the two repo paths in different states.</li><li>If you want to only apply on changes, use <code>--include-changes</code>.</li></ul><p>Check an example <a href=https://gist.github.com/slok/3f37c2a0dd823d5b66db869a468109ce>script</a> that prepares two manifests paths with the different revisions.</p><div class=gdoc-page__anchorwrap><h2 id=when-to-use-kubernetes-provider>When to use Kubernetes provider?<a data-clipboard-text=https://docs.kahoy.dev/faq/#when-to-use-kubernetes-provider class="gdoc-page__anchor gdoc-page__anchor--right clip"aria-label="Anchor When to use Kubernetes provider?"href=#when-to-use-kubernetes-provider><svg class="icon link"><use xlink:href="#link"/></svg></a></h2></div><p>When you want Kahoy manage the latest state for you instead of you managing the latest state (e.g: Using Git history).</p><p>This will make an easy and reliable way of managing the state.</p><div class=gdoc-page__anchorwrap><h2 id=env-vars-as-options>Env vars as options<a data-clipboard-text=https://docs.kahoy.dev/faq/#env-vars-as-options class="gdoc-page__anchor gdoc-page__anchor--right clip"aria-label="Anchor Env vars as options"href=#env-vars-as-options><svg class="icon link"><use xlink:href="#link"/></svg></a></h2></div><p>You can use environment vars as options using <code>KAHOY_XXXX_XXXX</code>, cli args have priority. e.g:</p><ul><li><code>--debug</code>: <code>KAHOY_DEBUG</code></li><li><code>--kube-context</code>: <code>KAHOY_KUBE_CONTEXT</code></li><li><code>--provider</code>: <code>KAHOY_PROVIDER</code></li><li><code>--fs-include</code>: <code>KAHOY_FS_INCLUDE</code></li><li>&mldr;</li></ul><div class=gdoc-page__anchorwrap><h2 id=kustomize-or-helm-manifests>Kustomize or helm manifests<a data-clipboard-text=https://docs.kahoy.dev/faq/#kustomize-or-helm-manifests class="gdoc-page__anchor gdoc-page__anchor--right clip"aria-label="Anchor Kustomize or helm manifests"href=#kustomize-or-helm-manifests><svg class="icon link"><use xlink:href="#link"/></svg></a></h2></div><p>You can maintain the generated manifests in git as a previous step to make the PRs, this would make that the final autogenerated manifests are committed and ready in the git history, ready to be used by Kahoy at any time (including CI) and cleaner on the PRs when multiple manifests change.</p><p>Check this <a href=https://github.com/slok/kahoy-kustomize-example>Kustomize example</a>.</p><div class=gdoc-page__anchorwrap><h2 id=encrypted-secrets>Encrypted secrets?<a data-clipboard-text=https://docs.kahoy.dev/faq/#encrypted-secrets class="gdoc-page__anchor gdoc-page__anchor--right clip"aria-label="Anchor Encrypted secrets?"href=#encrypted-secrets><svg class="icon link"><use xlink:href="#link"/></svg></a></h2></div><p>Encrypted secrets can&rsquo;t be understood by Kahoy, there are different solutions:</p><ul><li>Ignore encrypted files and apply them separately.<ul><li>Invoke Kahoy ignoring them using <code>--fs-exclude</code>.</li><li>Decrypt the secrets.</li><li>Apply them using Kahoy with <code>--provider=paths</code> and <code>--fs-include</code> option.</li></ul></li><li>Move to a different solution where git repository doesn&rsquo;t have encrypted secrets (webhooks, controllers&mldr;).</li></ul><div class=gdoc-page__anchorwrap><h2 id=non-resource-yamls>Non resource YAMLs<a data-clipboard-text=https://docs.kahoy.dev/faq/#non-resource-yamls class="gdoc-page__anchor gdoc-page__anchor--right clip"aria-label="Anchor Non resource YAMLs"href=#non-resource-yamls><svg class="icon link"><use xlink:href="#link"/></svg></a></h2></div><p>Kahoy will try loading all yamls as resources, if it fails, Kahoy will fail, this can be a problem when you have yamls that are not Kubernetes resources.</p><p>Use <code>--fs-exclude</code>, it works with <code>paths</code> and <code>git</code> providers.</p><div class=gdoc-page__anchorwrap><h2 id=ignore-a-resource>Ignore a resource<a data-clipboard-text=https://docs.kahoy.dev/faq/#ignore-a-resource class="gdoc-page__anchor gdoc-page__anchor--right clip"aria-label="Anchor Ignore a resource"href=#ignore-a-resource><svg class="icon link"><use xlink:href="#link"/></svg></a></h2></div><p>You can ignore resources at different levels and using multiple filters.</p><p>At file level you have <code>--fs-include</code> and <code>--fs-exclude</code>, these exclude or include based on filesystem path regexes.</p><p>At Kubernetes resource level you have others:</p><ul><li><code>--kube-exclude-type</code>: Exclude based on Kubernetes type regex (e.g: <code>apps/*/Deployment</code>, <code>v1/Pod</code>&mldr;).</li><li><code>--kube-include-label</code>: Kubernetes style selector that will select only the resources that match the label selector (e.g: <code>app=myapp,component!=database,env</code>)</li><li><code>--kube-include-annotation</code>: Kubernetes style selector that will select only the resources that match the annotation selector (e.g: <code>app=myapp,component!=database,!non-wanted-key</code>)</li></ul><div class=gdoc-page__anchorwrap><h2 id=why-so-many-filtering-options>Why so many filtering options?<a data-clipboard-text=https://docs.kahoy.dev/faq/#why-so-many-filtering-options class="gdoc-page__anchor gdoc-page__anchor--right clip"aria-label="Anchor Why so many filtering options?"href=#why-so-many-filtering-options><svg class="icon link"><use xlink:href="#link"/></svg></a></h2></div><p>There isn&rsquo;t a correct manifest structure, grouping, naming&mldr; These can be, spliting a repo per env, a monorepo for everything, a repo for each app&mldr;</p><p>Kahoy tries adapting to most use cases, so, having multiple ways of including/excluding resources/manifests is a good way of adapting to the different users.</p><p>All these filtering options give users a way of solving lots of use cases, for example splitting CI deployments in many ways, e.g:</p><ul><li>Deploy single env on a monorepo identified by paths (<code>--fs-include envs/prod</code>).</li><li>Deploy single env on a monorepo on the same path, identified by labels, e.g Kustomize generated files (<code>--kube-include-label env=prod</code>).</li><li>Split CI steps by env.</li><li>Split CI steps by nature (Kahoy with everything except secrets -> decrypt secrets -> Kahoy all secrets).</li><li>Updating a single service (<code>--fs-include apps/app1</code>).</li><li>Exclude encrypted files (<code>--fs-exclude secret</code>)</li><li>Exclude an specific app (<code>--fs-exclude apps/app1</code>)</li><li>Ignore CRDs that have an annotation, becase controller change the information (<code>--kube-include-annotation ...</code>)</li><li>Integrate Kahoy gradually including manifests (<code>--fs-include monitoring/grafana --fs-include monitoring/prometheus</code>)</li><li>&mldr;</li></ul><div class=gdoc-page__anchorwrap><h2 id=i-have-namespace-not-found-error-on-regular-apply-or-diff>I have namespace not found error on regular apply or diff<a data-clipboard-text=https://docs.kahoy.dev/faq/#i-have-namespace-not-found-error-on-regular-apply-or-diff class="gdoc-page__anchor gdoc-page__anchor--right clip"aria-label="Anchor I have namespace not found error on regular apply or diff"href=#i-have-namespace-not-found-error-on-regular-apply-or-diff><svg class="icon link"><use xlink:href="#link"/></svg></a></h2></div><p>When we apply a namespaced resource on a namespace that does not exists, the action will fail with an error like:</p><div class=highlight><pre class=chroma><code class=language-text data-lang=text>Error from server (NotFound): namespaces &#34;some-namespace&#34; not found
</code></pre></div><p>This happens when you don&rsquo;t apply/create the <code>Namespaces</code> before the namespaced Kubernetes resources. Or when you do a diff <code>kahoy --diff</code>. Kahoy uses server-side diff, so it will try a fake/dry-run apply to get the diff and because there is no namespace, it will fail.</p><p>This is a tricky <a href=https://github.com/kubernetes/kubernetes/issues/83562>known problem</a>, to solve this at this moment is only one option, and is to create the namespace before the server-side apply.</p><p>By default Kahoy will not create the missing namespaces of applied resources, but with <code>--create-namespace</code>, it will. This will work with regular mode <code>kahoy apply</code> and also diff mode <code>kahoy apply --diff</code>.</p><p><strong>Be aware using it with <code>--diff</code> would create a namespace, this means that the diff would have a write operation on the cluster, the ns creation.</strong></p><p>Is a good practice that if you use <code>--create-namespace</code>, you add to your resources the <code>Namespace</code> manifest, this way in the case you delete anytime the resources along with the namespace, the created namespace will be garbage collected by Kahoy.</p><div class=gdoc-page__anchorwrap><h2 id=why-dont-use-kubectl-prune-to-delete-resources>Why don&rsquo;t use kubectl <code>prune</code> to delete resources?<a data-clipboard-text=https://docs.kahoy.dev/faq/#why-dont-use-kubectl-prune-to-delete-resources class="gdoc-page__anchor gdoc-page__anchor--right clip"aria-label="Anchor Why don&rsquo;t use kubectl <code>prune</code> to delete resources?"href=#why-dont-use-kubectl-prune-to-delete-resources><svg class="icon link"><use xlink:href="#link"/></svg></a></h2></div><p>TL;DR: Is unpredictable, then risky.</p><ul><li><a href=https://kubernetes.io/docs/tasks/manage-kubernetes-objects/declarative-config/#how-to-delete-objects>Official documentation</a> discourages <code>--prune</code>.</li><li><a href=https://kubernetes.io/docs/tasks/manage-kubernetes-objects/declarative-config/#how-to-delete-objects>Official documentation</a> encourages <code>delete -f</code>.</li><li>You never know what will be deleted exactly beforehand.</li><li>Can delete resources that we didn&rsquo;t even know they exists (because the selector matches).</li><li>Can have a big blast radius when an error is made in the <code>prune</code> execution.</li><li>Some controllers/operators create resources and set the labels with the ones from the original resource, this would make prune delete the controller object on each <code>apply</code> with <code>prune</code>.</li></ul><div class=gdoc-page__anchorwrap><h2 id=github-actions-integration>Github actions integration<a data-clipboard-text=https://docs.kahoy.dev/faq/#github-actions-integration class="gdoc-page__anchor gdoc-page__anchor--right clip"aria-label="Anchor Github actions integration"href=#github-actions-integration><svg class="icon link"><use xlink:href="#link"/></svg></a></h2></div><p>Check this <a href=https://github.com/slok/kahoy-github-actions-example>Github actions example</a> for more info.</p><div class=gdoc-page__anchorwrap><h2 id=configuration-file>Configuration file<a data-clipboard-text=https://docs.kahoy.dev/faq/#configuration-file class="gdoc-page__anchor gdoc-page__anchor--right clip"aria-label="Anchor Configuration file"href=#configuration-file><svg class="icon link"><use xlink:href="#link"/></svg></a></h2></div><p>Kahoy accepts a configuration file (by default <code>./kahoy.yml</code>) to set options, at this moment these are the options:</p><div class=highlight><pre class=chroma><code class=language-yaml data-lang=yaml><span class=c># Version of the configuration format.</span><span class=w>
</span><span class=w></span><span class=nt>version</span><span class=p>:</span><span class=w> </span><span class=l>v1</span><span class=w>
</span><span class=w>
</span><span class=w></span><span class=c># File system configuration.</span><span class=w>
</span><span class=w></span><span class=nt>fs</span><span class=p>:</span><span class=w>
</span><span class=w>  </span><span class=c># Exclude regex for file paths (same as `--fs-exclude`, can be used both).</span><span class=w>
</span><span class=w>  </span><span class=nt>exclude</span><span class=p>:</span><span class=w>
</span><span class=w>    </span>- <span class=l>prometheus/secrets</span><span class=w>
</span><span class=w>    </span>- <span class=l>secret*</span><span class=w>
</span><span class=w>  </span><span class=c># Include regex for file paths (same as `--fs-include`, can be used both).</span><span class=w>
</span><span class=w>  </span><span class=nt>include</span><span class=p>:</span><span class=w>
</span><span class=w>    </span>- <span class=l>apps/</span><span class=w>
</span><span class=w>
</span><span class=w></span><span class=c># List of groups configuration.</span><span class=w>
</span><span class=w></span><span class=nt>groups</span><span class=p>:</span><span class=w>
</span><span class=w>  </span><span class=c># Represented by the group ID</span><span class=w>
</span><span class=w>  </span>- <span class=nt>id</span><span class=p>:</span><span class=w> </span><span class=l>crd</span><span class=w>
</span><span class=w>    </span><span class=c># Priority of the group (by default is 1000). Applied in asc order.</span><span class=w>
</span><span class=w>    </span><span class=nt>priority</span><span class=p>:</span><span class=w> </span><span class=m>200</span><span class=w>
</span><span class=w>    </span><span class=c># Wait options.</span><span class=w>
</span><span class=w>    </span><span class=nt>wait</span><span class=p>:</span><span class=w>
</span><span class=w>      </span><span class=c># The time will wait after being applied (Ts, Tm, Th format).</span><span class=w>
</span><span class=w>      </span><span class=nt>duration</span><span class=p>:</span><span class=w> </span><span class=l>5s</span><span class=w>
</span><span class=w>
</span><span class=w>  </span>- <span class=nt>id</span><span class=p>:</span><span class=w> </span><span class=l>ns</span><span class=w>
</span><span class=w>    </span><span class=nt>priority</span><span class=p>:</span><span class=w> </span><span class=m>100</span><span class=w>
</span><span class=w>    </span><span class=nt>wait</span><span class=p>:</span><span class=w>
</span><span class=w>      </span><span class=nt>duration</span><span class=p>:</span><span class=w> </span><span class=l>10s</span><span class=w>
</span><span class=w>
</span><span class=w>  </span>- <span class=nt>id</span><span class=p>:</span><span class=w> </span><span class=l>system/roles</span><span class=w>
</span><span class=w>    </span><span class=nt>priority</span><span class=p>:</span><span class=w> </span><span class=m>300</span><span class=w>
</span></code></pre></div><div class=gdoc-page__anchorwrap><h2 id=report>Report<a data-clipboard-text=https://docs.kahoy.dev/faq/#report class="gdoc-page__anchor gdoc-page__anchor--right clip"aria-label="Anchor Report"href=#report><svg class="icon link"><use xlink:href="#link"/></svg></a></h2></div><p>Kahoy can give a report at the end of the execution with the information of the resources that have been deleted and applied.</p><p>This is very flexible and powerful because it gives the ability to plug new apps after Kahoy execution e.g:</p><ul><li>Push notifications</li><li>Wait for resources be available: <a href=https://github.com/slok/kahoy-app-deploy-example>Example</a>.</li><li>Push metrics.</li><li>Execute sanity checks</li><li>&mldr;</li></ul><p>This approach follows unix philosophy of having N tools, each one doing one thing (e.g <code>Kahoy | jq | waiter</code>).</p><p>By default it doesn&rsquo;t give the report, use <code>--report-path</code> (<code>-r</code>) flag, using <code>-</code> for stdout (<code>-r -</code>), or a path to an output file (e.g <code>-r /tmp/kahoy-report.json</code>.</p><p>The format is in JSON because this way it can be combined with tools like <a href=https://stedolan.github.io/jq/>jq</a>, example:</p><div class=highlight><pre class=chroma><code class=language-json data-lang=json><span class=p>{</span>
  <span class=nt>&#34;version&#34;</span><span class=p>:</span> <span class=s2>&#34;v1&#34;</span><span class=p>,</span>
  <span class=nt>&#34;id&#34;</span><span class=p>:</span> <span class=s2>&#34;01EHXWW5XNQF3V8WF14Z3GCAZT&#34;</span><span class=p>,</span>
  <span class=nt>&#34;started_at&#34;</span><span class=p>:</span> <span class=s2>&#34;2020-09-11T06:15:38Z&#34;</span><span class=p>,</span>
  <span class=nt>&#34;ended_at&#34;</span><span class=p>:</span> <span class=s2>&#34;2020-09-11T06:15:54Z&#34;</span><span class=p>,</span>
  <span class=nt>&#34;applied_resources&#34;</span><span class=p>:</span> <span class=p>[</span>
    <span class=p>{</span>
      <span class=nt>&#34;id&#34;</span><span class=p>:</span> <span class=s2>&#34;apps/v1/Deployment/test-kahoy/grafana&#34;</span><span class=p>,</span>
      <span class=nt>&#34;group&#34;</span><span class=p>:</span> <span class=s2>&#34;monitoring/grafana&#34;</span><span class=p>,</span>
      <span class=nt>&#34;gvk&#34;</span><span class=p>:</span> <span class=s2>&#34;apps/v1/Deployment&#34;</span><span class=p>,</span>
      <span class=nt>&#34;api_version&#34;</span><span class=p>:</span> <span class=s2>&#34;apps/v1&#34;</span><span class=p>,</span>
      <span class=nt>&#34;kind&#34;</span><span class=p>:</span> <span class=s2>&#34;Deployment&#34;</span><span class=p>,</span>
      <span class=nt>&#34;namespace&#34;</span><span class=p>:</span> <span class=s2>&#34;test-kahoy&#34;</span><span class=p>,</span>
      <span class=nt>&#34;name&#34;</span><span class=p>:</span> <span class=s2>&#34;grafana&#34;</span>
    <span class=p>},</span>
    <span class=p>{</span>
      <span class=nt>&#34;id&#34;</span><span class=p>:</span> <span class=s2>&#34;core/v1/Namespace/default/test-kahoy&#34;</span><span class=p>,</span>
      <span class=nt>&#34;group&#34;</span><span class=p>:</span> <span class=s2>&#34;ns&#34;</span><span class=p>,</span>
      <span class=nt>&#34;gvk&#34;</span><span class=p>:</span> <span class=s2>&#34;/v1/Namespace&#34;</span><span class=p>,</span>
      <span class=nt>&#34;api_version&#34;</span><span class=p>:</span> <span class=s2>&#34;v1&#34;</span><span class=p>,</span>
      <span class=nt>&#34;kind&#34;</span><span class=p>:</span> <span class=s2>&#34;Namespace&#34;</span><span class=p>,</span>
      <span class=nt>&#34;namespace&#34;</span><span class=p>:</span> <span class=s2>&#34;&#34;</span><span class=p>,</span>
      <span class=nt>&#34;name&#34;</span><span class=p>:</span> <span class=s2>&#34;test-kahoy&#34;</span>
    <span class=p>}</span>
  <span class=p>],</span>
  <span class=nt>&#34;deleted_resources&#34;</span><span class=p>:</span> <span class=p>[</span>
    <span class=p>{</span>
      <span class=nt>&#34;id&#34;</span><span class=p>:</span> <span class=s2>&#34;rbac.authorization.k8s.io/v1/Role/test-kahoy/prometheus&#34;</span><span class=p>,</span>
      <span class=nt>&#34;group&#34;</span><span class=p>:</span> <span class=s2>&#34;monitoring/prometheus&#34;</span><span class=p>,</span>
      <span class=nt>&#34;gvk&#34;</span><span class=p>:</span> <span class=s2>&#34;rbac.authorization.k8s.io/v1/Role&#34;</span><span class=p>,</span>
      <span class=nt>&#34;api_version&#34;</span><span class=p>:</span> <span class=s2>&#34;rbac.authorization.k8s.io/v1&#34;</span><span class=p>,</span>
      <span class=nt>&#34;kind&#34;</span><span class=p>:</span> <span class=s2>&#34;Role&#34;</span><span class=p>,</span>
      <span class=nt>&#34;namespace&#34;</span><span class=p>:</span> <span class=s2>&#34;test-kahoy&#34;</span><span class=p>,</span>
      <span class=nt>&#34;name&#34;</span><span class=p>:</span> <span class=s2>&#34;prometheus&#34;</span>
    <span class=p>}</span>
  <span class=p>]</span>
<span class=p>}</span>
</code></pre></div></article><div class="gdoc-page__footer flex flex-wrap justify-between"></div></div></main><footer class=gdoc-footer><div class="container flex flex-wrap"><span class=gdoc-footer__item>Built with <a href=https://gohugo.io/ class=gdoc-footer__link>Hugo</a> and<svg class="icon heart"><use xlink:href="#heart"/></svg></span></div></footer></div><script defer src=/js/en.search.min.js></script><script defer src=/js/clipboard.min.js></script><script>document.addEventListener("DOMContentLoaded",function(a){var b=new ClipboardJS('.clip')})</script></body></html>